> 데이터베이스 관점에서 데이터를 저장하는 방법과 데이터를 요청했을 때 다시 찾을 수 있는 방법에 대해 알아보자.

## 0. 개발자가 주의해야하는 이유
- 사용 가능한 여러 저장소 엔진 중에 어플리케이션에 적합한 엔진을 선택하는 것이 필요
- 특정 작업부하 유형에서 좋은 성능을 내게끔 저장소 엔진을 조정하려면 저장소 엔진이 내부에서 수행되는 작업에 대해 대략적인 개념을 이해할 필요가 있음 (트랜잭션 / 분석)
- 관계형 vs NoSQL

## 1. 데이터베이스를 강력하게 만드는 데이터 구조

### 1.0. 색인
- 데이터베이스에서 특정 키의 값을 효율적으로 찾기 위해서는 다른 데이터 구조가 필요 -> *색인*
- 색인의 일반적인 개념은 어떤 부가적인 메타데이터를 유지하는 것 
	- 이정표 역할을 하여 원하는 데이터의 위치를 찾는데 도움을 줌
- 기본 데이터에서 파생된 추가적인 구조
- 트레이드 오프
	- 색인을 잘 설계하여 읽기 성능의 향상
	- 색인의 구조에 따라 데이터 쓰기 성능 하락
	- 어플리케이션에서 질의 패턴을 이해하고 개발자와 DBA가 잘 협의하여 결정

### 1.1. 해시 색인
- 키-값 색인
- 매우 일반적이고 복잡한 색인을 위한 구성 요소로 유용
- 사전 타입과 유사
- 해시맵, 해시테이블
- 전략
	- 키를 데이터 파일의 바이트 오프셋에 매핑해 인메모리 해시맵을 유지하는 전략
	- 새로운 키-값을 추가할 때마다 데이터의 오프셋을 반영하기 위해 해시맵도 갱신해야함
	- 값을 조회하려면 해시맵을 이용해 데이터 파일에서 오프셋을 찾아 해당 위치를 구하고 값을 읽음
- [비트캐스크 (Bitcask)](https://en.wikipedia.org/wiki/Bitcask)
	- 키를 저장하고 검색하기 위한 API를 제공하는 Erlang 어플리케이션
- 각 키의 값이 자주 갱신되는 상황에 적합
- 
